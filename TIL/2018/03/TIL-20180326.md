---
title: TIL-20180326
date: 2018-03-26 10:10:10
tags: 
---

# # To do List

- VendingMachineApp step6 피드백 수정하기

# # What I Learned

### episode 1. JK 강의 - blocking, nonblocking, async, sync의 관계 (부제: RxSwift가 나오게 된 배경)

---

```swift
class ReadValue {
    var successClosure: ((String)->())? = nil
    var value: String = "" {
        didSet {
            if let closure = successClosure {
                closure(value)
            }
        }
    }
    func asyncRead(completed: @escaping (String)->()) {
        successClosure = completed
        DispatchQueue.global().async {
            self.value = readLine() ?? ""
        }
    }
}

var read = ReadValue()
read.asyncRead{(readValue) in
    print(readValue)
    exit(1)
}

```

코드 개선 ↓

```
import Foundation
class ReadValue {
    static func asyncRead( completed:@escaping (String)->() ) {
        DispatchQueue.global().async {
            let value = readLine() ?? ""
            completed(value)
        }
    }
}
var read = ReadValue()
ReadValue.asyncRead { (readValue) in
    print(readValue)
    exit(1)
}

while(true) {
    
}
```

@escaping: 탈출클로저

### episode 2. 생각

---

- 미세먼지.....😷